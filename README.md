# geoink ‚Äî API –¥–ª—è –≥–µ–æ–º–µ—Ç–æ–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç REST API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–µ–∫, –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–∏—Å–∫–∞ –ø–æ —Ä–∞–¥–∏—É—Å—É.  
–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫—É.

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

- **–Ø–∑—ã–∫**: Python 3.10+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Django 5.0 + Django REST Framework
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **–ì–µ–æ–ø–æ–∏—Å–∫**: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É–ª—É –≥–∞–≤–µ—Ä—Å–∏–Ω—É—Å–∞ (–±–µ–∑ GeoDjango/PostGIS)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Token-based (—á–µ—Ä–µ–∑ `rest_framework.authtoken`)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω
- **–¢–µ—Å—Ç—ã**: –ø–æ–∫—Ä—ã—Ç—ã —Å –ø–æ–º–æ—â—å—é `Django TestCase`

–ü—Ä–æ–µ–∫—Ç **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç  PostGIS –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –≥–µ–æ-–±–∏–±–ª–∏–æ—Ç–µ–∫** ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ª—é–±–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å Python.

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- Windows / Linux / macOS

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π c GitHub
   
2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python -m venv venv
   –î–ª—è Windows: venv\Scripts\activate        
   Linux/macOS: source venv/bin/activate
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   ```bash
   pip install -r requirements.txt
   ```
4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
   ```bash
   python manage.py makemigrations 
   python manage.py migrate
   ```
5. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞):
   ```bash
   python manage.py createsuperuser
   # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –ª–æ–≥–∏–Ω ‚Äî admin, –ø–∞—Ä–æ–ª—å ‚Äî 123 (–¥–ª—è —Ç–µ—Å—Ç–∞)
   ```

6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   python manage.py runserver
   ```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000
   

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (curl)

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ 
–û—Ç–∫—Ä–æ–π—Ç–µ 2 –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç:
   ```bash
   curl -X POST http://127.0.0.1:8000/api-token-auth/ -d "username=admin&password=123"
   ```

–í –æ–±—Ä–∞—Ç–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω - –ø—Ä–∏–º–µ—Ä
```json
{"token":"e25d4330a270f9be7292267a8552f25e2b569a2a"}
```
2. –°–æ–∑–¥–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
   ```bash
    curl -X POST http://127.0.0.1:8000/api/points/messages/ -H "Authorization: Token –í–ê–®_–¢–û–ö–ï–ù" -H "Content-Type: application/json" -d "{\"pin_id\": 1, \"content\": \"–†–∞–±–æ—Ç–∞–µ—Ç!\"}"
   ```
3. –ü–æ–∏—Å–∫ —Ç–æ—á–µ–∫
   ```bash
    curl "http://127.0.0.1:8000/api/points/search/?latitude=43.1056&longitude=131.8735&radius=10" -H "Authorization: Token –í–ê–®_–¢–û–ö–ï–ù"
   ```
4. –ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
   ```bash    
    curl "http://127.0.0.1:8000/api/points/messages/search/?latitude=43.1056&longitude=131.8735&radius=10" -H "Authorization: Token –í–ê–®_–¢–û–ö–ï–ù"
   ```